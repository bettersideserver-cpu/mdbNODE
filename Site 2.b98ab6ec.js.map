{"mappings":"AC8DI,OAAO,aAAa,CA5DpB,SAAuB,CAAI,EACvB,IAAM,EAAM,SAAS,aAAa,CAAC,EAAK,WAAW,EAAI,eACjD,EAAQ,SAAS,aAAa,CAAC,EAAK,aAAa,EAAI,YAC3D,GAAI,CAAC,GAAO,CAAC,EAAO,OAGpB,EAAM,gBAAgB,CAAC,cAAc,OAAO,CAAC,AAAA,GAAK,EAAE,MAAM,IAE1D,GAAM,CAAC,EAAM,EAAK,CAAG,EAAK,OAAO,EAAI,CAAC,KAAM,KAAK,CAC3C,EAAQ,EAAI,gBAAgB,CAAC,QAC7B,EAAU,EAAK,SAAS,EAAI,CAAC,EAEnC,EAAM,OAAO,CAAC,AAAA,IACV,IAII,EAAS,EAJP,EAAK,EAAK,EAAE,EAAI,EAAK,YAAY,CAAC,cAAgB,MAClD,EAAS,AAAA,CAAA,EAAK,YAAY,CAAC,cAAgB,CAAA,EAAI,UAAU,CAAC,IAAK,KAIrE,GAAI,CAAM,CAAC,EAAG,CACV,EAAU,CAAM,CAAC,EAAG,CAAC,IAAI,CACzB,EAAS,CAAM,CAAC,EAAG,CAAC,GAAG,KACpB,CAEH,IAAM,EAAI,EAAK,OAAO,GACtB,EAAU,AAAE,CAAA,EAAE,CAAC,CAAG,EAAE,KAAK,CAAG,CAAA,EAAK,EAAQ,IACzC,EAAS,AAAE,CAAA,EAAE,CAAC,CAAG,EAAE,MAAM,CAAG,CAAA,EAAK,EAAQ,GAC7C,CAGA,IAAM,EAAM,SAAS,aAAa,CAAC,MACnC,CAAA,EAAI,SAAS,CAAG,YAChB,EAAI,KAAK,CAAC,IAAI,CAAG,EAAU,IAC3B,EAAI,KAAK,CAAC,GAAG,CAAG,EAAS,IAEzB,IAAM,EAAQ,SAAS,aAAa,CAAC,MACrC,CAAA,EAAM,SAAS,CAAG,mBAElB,IAAM,EAAM,SAAS,aAAa,CAAC,SACnC,CAAA,EAAI,IAAI,CAAG,SACX,EAAI,SAAS,CAAG,iBAChB,EAAI,KAAK,CAAG,EACZ,EAAI,SAAS,CAAG,uCAEhB,IAAM,EAAO,SAAS,aAAa,CAAC,MACpC,CAAA,EAAK,SAAS,CAAG,mBACjB,EAAK,WAAW,CAAG,EAGnB,EAAI,gBAAgB,CAAC,QAAS,AAAC,IAC3B,EAAE,eAAe,GACjB,EAAK,aAAa,CAAC,IAAI,WAAW,QAAS,CAAE,QAAS,CAAA,CAAK,GAC/D,GAEA,EAAM,WAAW,CAAC,GAClB,EAAM,WAAW,CAAC,GAClB,EAAI,WAAW,CAAC,GAChB,EAAM,WAAW,CAAC,EACtB,EACJ","sources":["<anon>","src/JS/TowerPins.js"],"sourcesContent":["// JS/TowerPins.js\n(function() {\n    function initTowerPins(opts) {\n        const svg = document.querySelector(opts.svgSelector || '.Cutout svg');\n        const layer = document.querySelector(opts.layerSelector || '#hsLayer');\n        if (!svg || !layer) return;\n        // purge previous pins so re-inits don’t duplicate\n        layer.querySelectorAll('.tower-pin').forEach((n)=>n.remove());\n        const [VB_W, VB_H] = opts.viewBox || [\n            3840,\n            5830\n        ];\n        const paths = svg.querySelectorAll('path');\n        const posMap = opts.positions || {};\n        paths.forEach((path)=>{\n            const id = path.id || path.getAttribute('data-name') || 'Pin';\n            const label = (path.getAttribute('data-name') || id).replaceAll('_', ' ');\n            // Manual position override if provided: { left:%, top:% }\n            let leftPct, topPct;\n            if (posMap[id]) {\n                leftPct = posMap[id].left;\n                topPct = posMap[id].top;\n            } else {\n                // fallback: center of path bbox\n                const b = path.getBBox();\n                leftPct = (b.x + b.width / 2) / VB_W * 100;\n                topPct = (b.y + b.height / 2) / VB_H * 100;\n            }\n            // Build pin\n            const pin = document.createElement('div');\n            pin.className = 'tower-pin';\n            pin.style.left = leftPct + '%';\n            pin.style.top = topPct + '%';\n            const stack = document.createElement('div');\n            stack.className = 'tower-pin__stack';\n            const btn = document.createElement('button');\n            btn.type = 'button';\n            btn.className = 'tower-pin__btn';\n            btn.title = label;\n            btn.innerHTML = '<span class=\"tower-pin__dot\"></span>';\n            const name = document.createElement('div');\n            name.className = 'tower-pin__label';\n            name.textContent = label;\n            // Click pin = click path (reuses your modal logic)\n            btn.addEventListener('click', (e)=>{\n                e.stopPropagation();\n                path.dispatchEvent(new MouseEvent('click', {\n                    bubbles: true\n                }));\n            });\n            stack.appendChild(btn);\n            stack.appendChild(name);\n            pin.appendChild(stack);\n            layer.appendChild(pin);\n        });\n    }\n    window.initTowerPins = initTowerPins;\n})();\n\n//# sourceMappingURL=Site 2.b98ab6ec.js.map\n","// JS/TowerPins.js\r\n(function () {\r\n    function initTowerPins(opts) {\r\n        const svg = document.querySelector(opts.svgSelector || '.Cutout svg');\r\n        const layer = document.querySelector(opts.layerSelector || '#hsLayer');\r\n        if (!svg || !layer) return;\r\n\r\n        // purge previous pins so re-inits don’t duplicate\r\n        layer.querySelectorAll('.tower-pin').forEach(n => n.remove());\r\n\r\n        const [VB_W, VB_H] = opts.viewBox || [3840, 5830];\r\n        const paths = svg.querySelectorAll('path');\r\n        const posMap = (opts.positions || {});\r\n\r\n        paths.forEach(path => {\r\n            const id = path.id || path.getAttribute('data-name') || 'Pin';\r\n            const label = (path.getAttribute('data-name') || id).replaceAll('_', ' ');\r\n\r\n            // Manual position override if provided: { left:%, top:% }\r\n            let leftPct, topPct;\r\n            if (posMap[id]) {\r\n                leftPct = posMap[id].left;\r\n                topPct = posMap[id].top;\r\n            } else {\r\n                // fallback: center of path bbox\r\n                const b = path.getBBox();\r\n                leftPct = ((b.x + b.width / 2) / VB_W) * 100;\r\n                topPct = ((b.y + b.height / 2) / VB_H) * 100;\r\n            }\r\n\r\n            // Build pin\r\n            const pin = document.createElement('div');\r\n            pin.className = 'tower-pin';\r\n            pin.style.left = leftPct + '%';\r\n            pin.style.top = topPct + '%';\r\n\r\n            const stack = document.createElement('div');\r\n            stack.className = 'tower-pin__stack';\r\n\r\n            const btn = document.createElement('button');\r\n            btn.type = 'button';\r\n            btn.className = 'tower-pin__btn';\r\n            btn.title = label;\r\n            btn.innerHTML = '<span class=\"tower-pin__dot\"></span>';\r\n\r\n            const name = document.createElement('div');\r\n            name.className = 'tower-pin__label';\r\n            name.textContent = label;\r\n\r\n            // Click pin = click path (reuses your modal logic)\r\n            btn.addEventListener('click', (e) => {\r\n                e.stopPropagation();\r\n                path.dispatchEvent(new MouseEvent('click', { bubbles: true }));\r\n            });\r\n\r\n            stack.appendChild(btn);\r\n            stack.appendChild(name);\r\n            pin.appendChild(stack);\r\n            layer.appendChild(pin);\r\n        });\r\n    }\r\n\r\n    window.initTowerPins = initTowerPins;\r\n})();\r\n"],"names":["window","initTowerPins","opts","svg","document","querySelector","svgSelector","layer","layerSelector","querySelectorAll","forEach","n","remove","VB_W","VB_H","viewBox","paths","posMap","positions","path","leftPct","topPct","id","getAttribute","label","replaceAll","left","top","b","getBBox","x","width","y","height","pin","createElement","className","style","stack","btn","type","title","innerHTML","name","textContent","addEventListener","e","stopPropagation","dispatchEvent","MouseEvent","bubbles","appendChild"],"version":3,"file":"Site 2.b98ab6ec.js.map"}