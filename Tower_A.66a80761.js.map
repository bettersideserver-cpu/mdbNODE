{"mappings":"ACAA,MAAM,UAAY,sHAEjB,AAAA,WACG,IAAM,EAAO,SAAS,cAAc,CAAC,eAC/B,EAAQ,SAAS,cAAc,CAAC,SAChC,EAAY,GAAM,cAAc,WACtC,GAAK,OAqEK,EACA,EACA,EAhDV,EAAK,gBAAgB,CAAC,SAAU,MAAO,IAEnC,GADA,EAAE,cAAc,GACZ,CAAC,EAAM,OAAO,CAAE,YAEhB,MAAM,8DAIV,IAAM,EAAK,IAAI,SAAS,GACxB,EAAG,MAAM,CAAC,aAAc,SAAS,KAAK,EACtC,EAAG,MAAM,CAAC,WAAY,SAAS,IAAI,EACnC,EAAG,MAAM,CAAC,YAAa,SAAS,QAAQ,EACxC,EAAG,MAAM,CAAC,WAAY,SAAS,QAAQ,EAAI,IAC3C,EAAG,MAAM,CAAC,QAAS,eAAe,OAAO,CAAC,cAAgB,IAC1D,EAAG,MAAM,CAAC,aAAc,eAAe,OAAO,CAAC,kBAAoB,IACnE,EAAG,MAAM,CAAC,aAAc,eAAe,OAAO,CAAC,kBAAoB,IAEnE,IAAM,EAAS,IAAI,gBAAgB,SAAS,MAAM,EAClD,CAAC,aAAc,aAAc,eAAgB,WAAY,cAAc,CAAC,OAAO,CAAC,AAAA,IACxE,EAAO,GAAG,CAAC,IAAI,EAAG,MAAM,CAAC,EAAG,EAAO,GAAG,CAAC,GAC/C,GAGA,EAAY,CAAA,GACZ,EAAS,eAET,GAAI,CAEA,GAAI,CAAC,AADO,CAAA,MAAM,MAxDZ,qHAwD6B,CAAE,OAAQ,OAAQ,KAAM,CAAG,EAAA,EACrD,EAAE,CAAE,MAAM,AAAI,MAAM,+BAG7B,EAAK,KAAK,GACN,GAAO,CAAA,EAAM,OAAO,CAAG,CAAA,CAA3B,EACA,IACA,EAAS,aAEb,CAAE,MAAO,EAAK,CACV,QAAQ,KAAK,CAAC,EAIlB,QAAU,CACN,EAAY,CAAA,EAChB,CACJ,GAEU,EAAU,SAAS,cAAc,CAAC,kBAClC,EAAU,SAAS,cAAc,CAAC,eAClC,EAAW,SAAS,cAAc,CAAC,YAEpC,GAAY,GAAY,IAE7B,EAAQ,gBAAgB,CAAC,QAAS,AAAC,IAYnC,IAAM,EAXF,EAAE,eAAe,IAWf,EAAU,SAAS,cAAc,CAAC,qBAExC,EAAQ,KAAK,CAAC,OAAO,CAAG,OACxB,EAAQ,YAAY,CAAC,cAAe,SACpC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAG,SAb/B,GAEA,EAAS,gBAAgB,CAAC,QAAS,GAEnC,EAAQ,gBAAgB,CAAC,QAAS,AAAC,IAC3B,AAAC,EAAE,MAAM,CAAC,OAAO,CAAC,WAAW,GACrC,IAlFJ,SAAS,EAAY,CAAM,EAClB,IACL,EAAU,YAAY,CAAC,YAAa,EAAS,OAAS,SACtD,IAAI,EAAK,QAAQ,CAAC,CAAC,OAAO,CAAC,AAAA,GAAM,EAAG,QAAQ,CAAG,GACnD,CAGA,SAAS,EAAS,CAAG,EACjB,IAAI,EAAO,SAAS,cAAc,CAAC,eAC9B,IAED,AADA,CAAA,EAAO,SAAS,aAAa,CAAC,MAA9B,EACK,EAAE,CAAG,cACV,EAAK,YAAY,CAAC,YAAa,UAC/B,EAAK,YAAY,CAAC,cAAe,QACjC,EAAK,KAAK,CAAC,QAAQ,CAAG,WACtB,EAAK,KAAK,CAAC,IAAI,CAAG,UAClB,SAAS,IAAI,CAAC,WAAW,CAAC,IAE9B,EAAK,WAAW,CAAG,CACvB,CAyEA,SAAS,IACL,IAAM,EAAU,SAAS,cAAc,CAAC,kBACnC,IACL,EAAQ,KAAK,CAAC,OAAO,CAAG,OACxB,EAAQ,YAAY,CAAC,cAAe,QACpC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAG,GACnC,CAEJ","sources":["<anon>","src/JS/enquiry_data.js"],"sourcesContent":["const scriptURL = \"https://script.google.com/macros/s/AKfycbzK8mD3jIf-PV3SYlCTpShqk4dYqNyvJX9Ki-Hu01KrVTY6Iq1AA7mOCBQ_Tn5mJsbJaw/exec\";\n(function handleEnquiryForm() {\n    const form = document.getElementById(\"enquiryForm\");\n    const agree = document.getElementById(\"agree\");\n    const submitBtn = form?.querySelector(\".submit\");\n    if (!form) return;\n    function setFormBusy(isBusy) {\n        if (!submitBtn) return;\n        submitBtn.setAttribute(\"aria-busy\", isBusy ? \"true\" : \"false\");\n        [\n            ...form.elements\n        ].forEach((el)=>el.disabled = isBusy);\n    }\n    // optional: accessible announcements\n    function announce(msg) {\n        let live = document.getElementById(\"live-region\");\n        if (!live) {\n            live = document.createElement(\"div\");\n            live.id = \"live-region\";\n            live.setAttribute(\"aria-live\", \"polite\");\n            live.setAttribute(\"aria-atomic\", \"true\");\n            live.style.position = \"absolute\";\n            live.style.left = \"-9999px\";\n            document.body.appendChild(live);\n        }\n        live.textContent = msg;\n    }\n    form.addEventListener(\"submit\", async (e)=>{\n        e.preventDefault();\n        if (!agree.checked) {\n            // no popups — just a quick native alert or do nothing\n            alert(\"Please agree to the Privacy Policy and Terms & Conditions.\");\n            return;\n        }\n        const fd = new FormData(form);\n        fd.append(\"page_title\", document.title);\n        fd.append(\"page_url\", location.href);\n        fd.append(\"page_path\", location.pathname);\n        fd.append(\"referrer\", document.referrer || \"\");\n        fd.append(\"tower\", sessionStorage.getItem(\"lastTower\") || \"\");\n        fd.append(\"floor_name\", sessionStorage.getItem(\"lastFloorName\") || \"\");\n        fd.append(\"floor_link\", sessionStorage.getItem(\"lastFloorLink\") || \"\");\n        const params = new URLSearchParams(location.search);\n        [\n            \"utm_source\",\n            \"utm_medium\",\n            \"utm_campaign\",\n            \"utm_term\",\n            \"utm_content\"\n        ].forEach((k)=>{\n            if (params.has(k)) fd.append(k, params.get(k));\n        });\n        // Start spinner\n        setFormBusy(true);\n        announce(\"Submitting\\u2026\");\n        try {\n            const res = await fetch(scriptURL, {\n                method: \"POST\",\n                body: fd\n            });\n            if (!res.ok) throw new Error(\"Network response was not ok\");\n            // Success: stop spinner, reset, close the enquiry overlay\n            form.reset();\n            if (agree) agree.checked = false;\n            hideEnquiryOverlay();\n            announce(\"Submitted.\");\n        // (no popup shown)\n        } catch (err) {\n            console.error(err);\n        // If you want zero popups, you can still show a native alert here,\n        // or just log. Uncomment next line if you want a message:\n        // alert(\"Something went wrong. Please try again.\");\n        } finally{\n            setFormBusy(false); // stop spinner\n        }\n    });\n    (function() {\n        const overlay = document.getElementById('enquiryOverlay');\n        const openBtn = document.getElementById('openEnquiry');\n        const closeBtn = document.getElementById('closeBtn');\n        if (!overlay || !openBtn || !closeBtn) return;\n        openBtn.addEventListener('click', (e)=>{\n            e.stopPropagation();\n            showEnquiryOverlay();\n        });\n        closeBtn.addEventListener('click', hideEnquiryOverlay);\n        overlay.addEventListener('click', (e)=>{\n            if (!e.target.closest('.modal')) hideEnquiryOverlay();\n        });\n    })();\n    function showEnquiryOverlay() {\n        const overlay = document.getElementById('enquiryOverlay');\n        if (!overlay) return;\n        overlay.style.display = 'flex';\n        overlay.setAttribute('aria-hidden', 'false');\n        document.body.style.overflow = 'hidden';\n    }\n    function hideEnquiryOverlay() {\n        const overlay = document.getElementById('enquiryOverlay');\n        if (!overlay) return;\n        overlay.style.display = 'none';\n        overlay.setAttribute('aria-hidden', 'true');\n        document.body.style.overflow = '';\n    }\n})();\n\n//# sourceMappingURL=Tower_A.66a80761.js.map\n","const scriptURL = \"https://script.google.com/macros/s/AKfycbzK8mD3jIf-PV3SYlCTpShqk4dYqNyvJX9Ki-Hu01KrVTY6Iq1AA7mOCBQ_Tn5mJsbJaw/exec\";\r\n\r\n(function handleEnquiryForm() {\r\n    const form = document.getElementById(\"enquiryForm\");\r\n    const agree = document.getElementById(\"agree\");\r\n    const submitBtn = form?.querySelector(\".submit\");\r\n    if (!form) return;\r\n\r\n    function setFormBusy(isBusy) {\r\n        if (!submitBtn) return;\r\n        submitBtn.setAttribute(\"aria-busy\", isBusy ? \"true\" : \"false\");\r\n        [...form.elements].forEach(el => el.disabled = isBusy);\r\n    }\r\n\r\n    // optional: accessible announcements\r\n    function announce(msg) {\r\n        let live = document.getElementById(\"live-region\");\r\n        if (!live) {\r\n            live = document.createElement(\"div\");\r\n            live.id = \"live-region\";\r\n            live.setAttribute(\"aria-live\", \"polite\");\r\n            live.setAttribute(\"aria-atomic\", \"true\");\r\n            live.style.position = \"absolute\";\r\n            live.style.left = \"-9999px\";\r\n            document.body.appendChild(live);\r\n        }\r\n        live.textContent = msg;\r\n    }\r\n\r\n    form.addEventListener(\"submit\", async (e) => {\r\n        e.preventDefault();\r\n        if (!agree.checked) {\r\n            // no popups — just a quick native alert or do nothing\r\n            alert(\"Please agree to the Privacy Policy and Terms & Conditions.\");\r\n            return;\r\n        }\r\n\r\n        const fd = new FormData(form);\r\n        fd.append(\"page_title\", document.title);\r\n        fd.append(\"page_url\", location.href);\r\n        fd.append(\"page_path\", location.pathname);\r\n        fd.append(\"referrer\", document.referrer || \"\");\r\n        fd.append(\"tower\", sessionStorage.getItem(\"lastTower\") || \"\");\r\n        fd.append(\"floor_name\", sessionStorage.getItem(\"lastFloorName\") || \"\");\r\n        fd.append(\"floor_link\", sessionStorage.getItem(\"lastFloorLink\") || \"\");\r\n\r\n        const params = new URLSearchParams(location.search);\r\n        [\"utm_source\", \"utm_medium\", \"utm_campaign\", \"utm_term\", \"utm_content\"].forEach(k => {\r\n            if (params.has(k)) fd.append(k, params.get(k));\r\n        });\r\n\r\n        // Start spinner\r\n        setFormBusy(true);\r\n        announce(\"Submitting…\");\r\n\r\n        try {\r\n            const res = await fetch(scriptURL, { method: \"POST\", body: fd });\r\n            if (!res.ok) throw new Error(\"Network response was not ok\");\r\n\r\n            // Success: stop spinner, reset, close the enquiry overlay\r\n            form.reset();\r\n            if (agree) agree.checked = false;\r\n            hideEnquiryOverlay();\r\n            announce(\"Submitted.\");\r\n            // (no popup shown)\r\n        } catch (err) {\r\n            console.error(err);\r\n            // If you want zero popups, you can still show a native alert here,\r\n            // or just log. Uncomment next line if you want a message:\r\n            // alert(\"Something went wrong. Please try again.\");\r\n        } finally {\r\n            setFormBusy(false); // stop spinner\r\n        }\r\n    });\r\n    (function () {\r\n        const overlay = document.getElementById('enquiryOverlay');\r\n        const openBtn = document.getElementById('openEnquiry');\r\n        const closeBtn = document.getElementById('closeBtn');\r\n\r\n        if (!overlay || !openBtn || !closeBtn) return;\r\n\r\n        openBtn.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n            showEnquiryOverlay();\r\n        });\r\n\r\n        closeBtn.addEventListener('click', hideEnquiryOverlay);\r\n\r\n        overlay.addEventListener('click', (e) => {\r\n            if (!e.target.closest('.modal')) hideEnquiryOverlay();\r\n        });\r\n    })();\r\n    function showEnquiryOverlay() {\r\n        const overlay = document.getElementById('enquiryOverlay');\r\n        if (!overlay) return;\r\n        overlay.style.display = 'flex';\r\n        overlay.setAttribute('aria-hidden', 'false');\r\n        document.body.style.overflow = 'hidden';\r\n    }\r\n\r\n    function hideEnquiryOverlay() {\r\n        const overlay = document.getElementById('enquiryOverlay');\r\n        if (!overlay) return;\r\n        overlay.style.display = 'none';\r\n        overlay.setAttribute('aria-hidden', 'true');\r\n        document.body.style.overflow = '';\r\n    }\r\n\r\n})();\r\n\r\n\r\n"],"names":["scriptURL","form","document","getElementById","agree","submitBtn","querySelector","overlay","openBtn","closeBtn","addEventListener","e","preventDefault","checked","alert","fd","FormData","append","title","location","href","pathname","referrer","sessionStorage","getItem","params","URLSearchParams","search","forEach","k","has","get","setFormBusy","announce","res","fetch","method","body","ok","Error","reset","hideEnquiryOverlay","err","console","error","stopPropagation","style","display","setAttribute","overflow","target","closest","isBusy","elements","el","disabled","msg","live","createElement","id","position","left","appendChild","textContent"],"version":3,"file":"Tower_A.66a80761.js.map"}